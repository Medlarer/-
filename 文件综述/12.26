bug排错
popup函数报错
在自定义标签的类与在添加页面得到的对象生成的类不是同一个类对象

流程：
1.点击列表页面的添加按钮，进入第一个添加页面，此时页面的self是customer类
2.在customer的添加页面，点击popup函数，新生成一个添加页面，再走一次自定义标签，此时的self是外键字段的类
3.此时自定义标签中self应该是新生成的类，因为无论怎样，在post请求中只生成了外键字段的类
4.循环新生成的obj生成的_meta.related_objects;有几个外键字段和manytomany字段就循环几次。
12.25好的bug解决：return 在for循环里面就循环一次，所以取不到值，

12.22的bug解决（组合查询查不到）
bug,组合查询取值的时候应该用getlist而不是get


12.26代码：
    老师上课记录功能的实现、
    流程
    extra_url
    GET请求进来
1.首先在写一个额外的url用来展示每一天的上课记录
2.通过record_id在studyrecord取得每天的学习记录，因为学生可以选多门课，所以是
一个列表。
3.循环这个列表，通过type动态生成一个类(动态生成的类要带上这个对象的id)，有一个对象就生成一个一条记录，把这个列表返回给前端
4.POST请求进来，循环这个QueryDict，首先判断这个这个key是不是csrf_token
5.通过split得到字段名和这个字段的id，生成双层字典，第一层key为对象的id，二层为name
6.数据库中根据对象id更新上课记录。

二、批量为一个班级添加所有学生添加上课记录
1.首先取得需要批量的添加的班级列表，如果这一天的上课记录已经被添加就不初始化
2.通过bulk_create批量为一个班级的所有学生创建上课记录

三、查询学生的每一门课程成绩并用表格表示出来（表格显示用Highchart）
1.首先取得这个学生所选所有课程，在页面显示出来，当点击这个课程时，用表格弹出这个学生的成绩
2.点击这个课程，事件委派和发送一个ajax请求,通过GET请求将这个学生的ID和课程ID发送到后端
3.在后端取到这个课程的所有成绩按[[day1,80],[day2,84],[day3,85]]的格式发送到前端
4.在前端引入highchart将数据用列表的方式显示


